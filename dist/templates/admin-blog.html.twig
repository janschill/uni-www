{% extends "layout.html.twig" %}

{% block title %}Admin{% endblock %}
{% block head %}
    {{ parent() }}
{% endblock %}
{% block content %}

        <section class="admin">
            {% include 'admin-aside.html.twig' %}

            <article class="admin__article">
                <h3 class="admin__header">
                    Blog posts
                    <span class="admin__button"><a href="blog/new">new Post</a></span>
                </h3>
                <table class="posts posts--blog">
                    <tr>
                        <th>Title</th>
                        <th>Author</th>
                        <th>Category</th>
                        <th>Tags</th>                        
                        <th>Created</th>
                    </tr>
                    {% for post in posts %}
                        <tr class="posts__post">
                            <td class="posts__title"><a href="blog/edit/{{ post.id }}">{{ post.title }}</a></td>
                            <td class="posts__author"><a href="blog/{{ post.author }}">{{ post.author }}</a></td>
                            <td class="posts__category">
                                {% for category in post.category %}
                                    {{ category }}
                                    {% if not loop.last %}
                                    <span>,</span>
                                    {% endif %}
                                {% endfor %}
                            </td>
                            <td class="posts__tags">
                                {% for tag in post.tags %}
                                    {{ tag }}
                                    {% if not loop.last %}
                                    <span>,</span>
                                    {% endif %}
                                {% endfor %}
                            </td>
                            <td>{{ post.created|date("Y/m/d") }}</td>
                            <td><a class="posts__delete" href="blog/delete/{{ post.id }}">Delete</a></td>
                        </tr>
                    {% endfor %}
                </table>

              </article>
        </section>

{% endblock %}